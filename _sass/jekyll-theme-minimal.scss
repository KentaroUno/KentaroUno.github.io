@import "fonts";
@import "rouge-github";

html, body {
  height: 100%;
  background-color: #000000;
  // background-color: #000000;
  background: none;
  padding:15px; // 上部のマージン

  font: 14px/1.5 "Noto Sans JP", "Helvetica", "Arial", "sans-serif", "Yu Gothic", "Helvetica Neue";
  color:#ffffff; // this is the main text color
  font-weight:400; /* 文字の太さは, 400: 標準（normal），700：太字（bold）*/
  // text-align: left;     /* 左寄せ(標準) */
  // text-align: center;   /* 中央寄せ(センタリング) */
  // text-align: right;    /* 右寄せ */
  // text-align: justify; /* 両端揃え(均等割り付け) */

}

/* 固定背景レイヤ */
body::before {
  content: "";
  position: fixed;
  inset: 0;
  z-index: -2;
  pointer-events: none;

  background: var(--page-bg-image, url("/assets/img/bg-default.jpg")) center / contain no-repeat;
  filter: grayscale(100%);
  background-size: 90% auto;  /* 横を基準に少し拡大（全体はほぼ維持） */
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  z-index: -1;
  pointer-events: none;

  background: linear-gradient(
    to right,
      #002060 0%,
      #000000 320px,
      rgba(0, 0, 0, 1) 320px,
      rgba(0, 0, 0, 1) 720px,
      rgba(0, 0, 0, 1) 720px,
      rgba(0, 0, 0, 1) 720px,
      rgba(0, 0, 0, 0.7) 1080px,
      rgba(0, 0, 0, 1) 1660px,
      #000000 1660px,
      #000000 1920px
  );
}

body.justify{
  text-align: justify;
}

// h1, h2, h3, h4, h5, h6 {
//   color:#ffffff;
//   margin:80px 0 20px;
// }

p, ul, ol, table, pre, dl {
  margin:0 0 20px;
}

  p.small{
    font-size:12px;
    line-height:1.2;
  }

h1, h2, h3 {
  line-height:1.0;
  font-weight:1000;
}

h1 {
  font-size:40px;

  display: flex;
  align-items: center;
  gap: 0.6em;

  margin-bottom: 40px;

  
  /* 左にラインが伸びる「見出し強調」風（研究者サイト向け） */
  // background: linear-gradient(
  //   transparent 60%,
  //   #ffffff 60%
  // );

  /* 角丸・カード風（固定ヘッダーでもOK） */
  // display: inline-block;
  // background-color: #ffffff;
  // padding: 0.3em 0.6em;
  // border-radius: 6px;

  // border-bottom:3px solid #002060; /*下線色の指定*/
  // padding-bottom: 10px;
  // border-left:10px solid #002060; /*左の線色の指定*/
  // padding-bottom:0 0 0 20px;
  
  color:#ffffff;
}

h1::after {
  content: "";
  flex-grow: 1;
  height: 1px;
  background: #ffffff;
  margin-top: 0.25em;  /* ← ここで線だけ下げる */
}

h2 {
  font-size:24px;
  border-left:5px solid #ffffff; /*左の線色の指定*/
  padding:0 0 0 10px;
  color:#ffffff;
  margin-top: 80px;
  margin-bottom: 40px;
}

h3 {
  font-size:20px;
  padding:0 0 0 10px;
  color:#ffffff;
  margin-top: 20px;
}

h4 {
  font-size:16px;
  padding:0 0 0 12px;
  color:#ffffff;
  margin-top: 40px;
}

h5, h6 {
  font-size:14px;
  padding:0 0 0 12px;
  color:#ffffff;
}

a {
  color:#85ceff;
  font-weight: bold;
  text-decoration:none;
  // text-decoration:underline;
}

a:hover, a:focus {
  color:#85ceff;
  font-weight: bold;
  text-decoration: underline;
}

a small {
  font-size:11px;
  color:#ffffff;
  margin-top:-0.3em;
  display:block;
}

a:hover small {
  color:#ffffff;
}

.wrapper {
  width:auto; /* 全体のページ幅 */
  margin:0 auto;
  min-width: 0 !important;
}

 /* textboxの書式設定 */
blockquote {
  background:#181818; /*背景色の指定*/
  border-left:5px solid #181818; /*左の線色の指定*/
  color:#181818; /*文字色の指定*/
  margin:0;
  padding:0 0 0 20px;
  font-style:italic;
}

/* Code block（Jekyll/Rouge）の設定*/
div.highlight,
figure.highlight,
pre.highlight,
.highlight pre,
pre {
  background: #181818 !important;
  border: 1px solid #181818 !important;
  border-radius: 5px;
}

pre, .highlight pre {
  padding: 8px 15px;
  overflow-x: auto;
}

/* 内側codeの背景を消して二重背景を防ぐ */
pre code, .highlight code {
  font-family:Monaco, Bitstream Vera Sans Mono, Lucida Console, Terminal, Consolas, Liberation Mono, DejaVu Sans Mono, Courier New, monospace;
  background: transparent !important;
  color: #fff; /* 必要なら */
}

/* 表の設定 */
table {
  width:100%;
  border-collapse:collapse;
  // border: none 1px #bbbbbb; /* dashed: 点線 */
  color: #ffffff; /* 全体の文字色 */
  background-color: #18181800; /* 全体の背景色 */
  text-align: center;
}
// 表の設定
th, td {
  text-align:left;
  padding:5px 10px;
  border-bottom:1px dashed #ffffff;
  border: none 1px #ffffff; /* dashed: 点線，背景と同じ色にすると枠線無しに見える*/
}

section table {
  width: 100%;
  table-layout: fixed; /* 列幅を安定させる */
}

section table th:first-child,
section table td:first-child {
  width: 9em;          /* 日付列を固定（好みで調整） */
  white-space: nowrap; /* 日付を折り返さない */
}
section table td {
  overflow-wrap: anywhere; /* 長いURL/英単語でも折り返す */
  word-break: break-word;  /* 保険 */
}

dt {
  color:#ffffff;
  font-weight:700;
}

th {
  color:#ffffff;
}

.logo-row {
  display: flex;
  align-items: center;   /* 高さの中央揃え */
  gap: 12px;             /* ロゴ同士の横間隔 */
  margin: 0;             /* 上下余白ゼロ */
  padding: 0;
}

.logo-row img {
  display: block;        /* 行間由来の余白を消す */
  margin: 12px;             /* 上下左右余白ゼロ */
}

/* 16:9 を保つ動画コンテナ（既出なら再利用） */
.video-container {
  position: relative;
  width: 100%;
  height: auto;
  aspect-ratio: 16 / 9;  /* ★ 縦横比を固定 */
  margin: 0 auto;    /* 中央寄せ */
}

.video-container iframe {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  border: none !important;
  outline: none !important;
}

.video-container-small {
  position: relative;
  width: 70%;
  height: auto;
  aspect-ratio: 16 / 9;  /* ★ 縦横比を固定 */
  margin: 0 auto;    /* 中央寄せ */
}

.video-container-small iframe {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  border: none !important;
  outline: none !important;
}

.image-center {
  text-align: center;
}

.half-width-img {
  width: 50%;      /* ★ ページ幅の50% */
  height: auto;    /* 縦横比を保持 */
  max-width: 100%; /* 念のため */
  transition-duration: 0.5s; /*変化の時間*/
}
.half-width-img:hover {
  transform: scale(1.05,1.05); /*画像の拡大*/
  cursor: pointer; /*カーソルをポインターにする*/
}

.inline-icon {
  height: 1.5em;   /* ★ フォントサイズの120% */
  width: auto;     /* 縦横比を保持 */
  vertical-align: middle;
  transition-duration: 0.5s; /*変化の時間*/
}
.inline-icon:hover {
  transform: scale(1.25,1.25); /*画像の拡大*/
  cursor: pointer; /*カーソルをポインターにする*/
}

.inline-big-icon {
  height: 3em;   /* ★ フォントサイズの300% */
  width: auto;    /* 縦横比を保持 */
  max-width: 100%; /* 念のため */
  transition-duration: 0.5s; /*変化の時間*/
}
.inline-big-icon:hover {
  transform: scale(1.25,1.25); /*画像の拡大*/
  cursor: pointer; /*カーソルをポインターにする*/
}




/* 3列グリッド */
.video-grid {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr)); /* 画面の半分ずつ */
  gap: 2rem;  /* 動画間の余白 */
}

/* 動画下のテキスト */
.video-caption {
  margin-top: 0.4rem;
  font-size: 1.2rem;
  line-height: 1.4;
  text-align: center;   /* 中央揃え（好みで left も可） */
  color: #ffffff;
}

.video-caption2 {
  margin-top: 0.4rem;
  font-size: 1rem;
  line-height: 1.4;
  text-align: center;   /* 中央揃え（好みで left も可） */
  color: #ffffff;
}

/* タブレットでは2列 */
@media (max-width: 1280px) {
  .video-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

/* スマホでは1列 */
@media (max-width: 768px) {
  .video-grid {
    grid-template-columns: 1fr;
  }
}

kbd {
  background-color: #fafbfc;
  border: 1px solid #c6cbd1;
  border-bottom-color: #959da5;
  border-radius: 3px;
  box-shadow: inset 0 -1px 0 #959da5;
  color: #444d56;
  display: inline-block;
  font-size: 11px;
  line-height: 10px;
  padding: 3px 5px;
  vertical-align: middle;
}

/* ロゴ画像の高さを指定（比率維持） */
header img {
  width: 200px;      
  height: auto; /* ← 縦横比を保つため必須 */
  display: block;
  margin: 0 auto;   /* 中央揃え */
}

.header-image-small img {
  height: 36px;
  width: auto;
  display: block;
}

.header-image-row {
  display: flex;
  gap: 1.5rem;
  justify-content: center;
  align-items: center;
  margin-top: 0.5rem;
}

.header-image-row img {
  height: 36px;
  width: auto;
  display: block;
}

header h1 {
  font-size:1.6rem;
  border-bottom:3px solid #bbbbbb00; /*全透明の指定*/
  padding-bottom: 10px;
  color:#bbbbbb;
}

header {
  width:360px;
  float:left;
  position:fixed;
  z-index: 0;          /* これが重要：擬似要素の重なりを安定させる */
  isolation: isolate;  /* これも重要：z-index:-1 が消えるのを防ぐ */
  padding: 2rem;
  border-radius: 10px;
  -webkit-font-smoothing:subpixel-antialiased;


  background-size: 360px;
  background-position: center;
  background-attachment: fixed;
}

/* 背景だけを画面左端まで伸ばす */
header::before {
  content: "";
  position: absolute;
  top: 0;
  bottom: 0;

  /* wrapper(中央)の左端から viewport 左端まで引き伸ばす */
  left: calc(-50vw + 50%);
  width: calc(100% + (50vw - 50%));

  /* 透かし（黒フィルタ）+ 背景画像 */
  background-image:
    linear-gradient(
      rgba(0, 0, 0, 0.85),
      rgba(0, 0, 0, 0.85)
    ),
    url("/assets/img/background.jpg");

  background-repeat: no-repeat;          /* ← 繰り返しを止める */
  background-position: right top;    /* ← 位置を中央に */
  background-size: contain;                /* ← 1枚で覆う（はみ出しはトリミング） */

  z-index: -1;
  pointer-events: none;

  /* ※ padding は疑似要素には効きづらいので不要（消すの推奨） */
  border-radius: 10px;
}

ul.downloads {
  list-style:none;
  height:40px;
  padding:0;
  background: #f4f4f4;
  border-radius:5px;
  border:1px solid #e0e0e0;
  width:270px;
}

.downloads li {
  width:89px;
  float:left;
  border-right:1px solid #e0e0e0;
  height:40px;
}

.downloads li:first-child a {
  border-radius:5px 0 0 5px;
}

.downloads li:last-child a {
  border-radius:0 5px 5px 0;
}

.downloads a {
  line-height:1;
  font-size:11px;
  color:#676767;
  display:block;
  text-align:center;
  padding-top:6px;
  height:34px;
}

.downloads a:hover, .downloads a:focus {
  color:#675C5C;
  font-weight:bold;
}

.downloads ul a:active {
  background-color:#f0f0f0;
}

/* Markdown記法で**で囲むと，このstrong効果が反映される */
strong {
  color:#ffffff;
  font-weight:700;
  text-decoration: underline;
}

.downloads li + li + li {
  border-right:none;
  width:89px;
}

.downloads a strong {
  font-size:14px;
  display:block;
  color:#222;
}

/* ページ右側の記事の横幅など */
section {
  width: auto !important;
  max-width: 100% !important;

  margin-left: 480px;

  /* 改行を妨げる指定があっても折り返す */
  white-space: normal !important;

  /* 長いURL/英数字も強制的に折る */
  overflow-wrap: anywhere !important;
  word-break: normal !important;

  /* flex/grid配下で「縮まず改行しない」問題の特効薬 */
  min-width: 0 !important;
}

small {
  font-size:11px;
  line-height:95%;
}

hr {
  border:0;
  background:#181818;
  height:1px;
  margin:0 0 20px;
}

// footer {
//   width:540px;
//   float:left;
//   position:fixed;
//   bottom:50px;
//   -webkit-font-smoothing:subpixel-antialiased;
// }

@media print, screen and (max-width: 768px) {

  div.wrapper {
    width:auto;
    margin:0;
  }

  header, section, footer {
    float: none;          /* Minimalがfloatで2カラムなら解除 */
    width: auto;
    margin: 0 0 0.8rem 0; /* 下に少し余白 */
    position:relative;
  }

  /* 重要：左に伸ばす背景は “スマホでは全幅” にする（または消す） */

  
  /* wrapperの左右余白を調整（端にくっつかないように） */
  // .wrapper {
  //   padding: 0.9rem 0.8rem;
  // }

  body {
  background-color: #181818;
  // background-color: #000000;
  background:
    linear-gradient(
      to top,
      rgb(0, 0, 0) 0%,
      rgb(0, 0, 0) 3400px,
      rgb(0, 0, 0) 3400px,
      rgb(0, 0, 0) 1920px
    );

  background-size: cover;
  background-position: center;

  padding:15px; //上部のマージン

  font: 14px/1.5 "Noto Sans JP", "Helvetica", "Arial", "sans-serif", "Yu Gothic", "Helvetica Neue";
  color:#bbbbbb; // this is the main text color
  font-weight:500;
  // text-align: left;     /* 左寄せ(標準) */
  // text-align: center;   /* 中央寄せ(センタリング) */
  // text-align: right;    /* 右寄せ */
  // text-align: justify; /* 両端揃え(均等割り付け) */

}

  section {
    border:1px solid #bbbbbb;
    border-width:1px 0;
    padding:20px 0;
    margin:0 0 20px;
  }

  header a small {
    display:inline;
  }

  header ul {
    position:absolute;
    right:50px;
    top:52px;
  }
}

// @media print, screen and (max-width: 720px) {
//   body {
//     word-wrap:break-word;
//   }

//   header {
//     padding:0;
//   }

//   header ul, header p.view {
//     position:static;
//   }

//   pre, code {
//     word-wrap:normal;
//   }
// }

// @media print, screen and (max-width: 480px) {
//   body {
//     padding:15px;
//   }

//   .downloads {
//     width:99%;
//   }

//   .downloads li, .downloads li + li + li {
//     width:33%;
//   }
// }

@media print {
  body {
    padding:0.4in;
    font-size:12pt;
    color:#444;
  }
}